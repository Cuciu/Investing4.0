<!doctype html>
<html>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      // Load the Visualization API and the corechart package.
      google.charts.load('current', {'packages':['corechart']});
      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawChart);
      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
    function drawChart() {
    var data = google.visualization.arrayToDataTable(
        {{ graphdata|tojson }});

  var options = {
    title: 'Average Yearly Price',
    legend: 'none',
    crosshair: { trigger: "both", orientation: "both" },
    trendlines: {
      0: {
        type: 'polynomial',
        degree: 3,
        visibleInLegend: true,
      }
    }
  };

        // Instantiate and draw our chart, passing in some options.
  var chart = new google.visualization.ScatterChart(document.getElementById('chart_div2'));
  chart.draw(data, options);
      }
    </script>
   <body>
     <p>Webscraper created with Python37 and Google App Engineand. All data is provided by&nbsp;<a href="https://www.marketwatch.com/" target="_blank" rel="noopener">https://www.marketwatch.com/</a></p>
        <table border="1">
            <thead>
                <tr>
                    {% for col in colnames %}
                    <th>{{ col }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for record in records %}
                <tr>
                    {% for col in colnames %}
                    <td style="text-align:center">{{ record[col] }}</td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
      <center>
          <div id="chart_div2"></div>
      </center>
     <p><a title="Sky Alleys" href="https://www.skyalleys.com/" target="_blank" rel="noopener"><img src="https://www.skyalleys.com/wp-content/uploads/2018/05/logoSkyA1.png" alt="SkyAlleys" width="366" height="99" /></a></p>
     <p>Disclamer:&nbsp;Past performance is not necessarily indicative of future results. All investments carry risk and all investment decisions of an individual remain the responsibility of that individual. There is no guarantee that systems, indicators, or signals will result in profits or that they will not result in losses. All investors are advised to fully understand all risks associated with any kind of investing they choose to do.</p>
   </body>
</html>
